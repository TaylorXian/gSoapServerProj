<html>
<head>
    <meta content="text/html; charset=gb2312" http-equiv="content-type" />
    <meta name="GENERATOR" content="Microsoft Visual Studio 8.0" />
    <title>My name is gSoap Server Test.</title>
    <link rel="Stylesheet" type="text/css" media="screen" href="./main.css" />

    <script type="text/javascript" src="http://code.jquery.com/jquery-latest.js"></script>

    <script type="text/javascript">
        var soap_req;
        $(document).ready(function() {
            $('#btn').click(function() {
                jQuery.ajax({
                    type: "POST", //"GET",
                    url: "http://localhost:18083/",
                    contentType: "application/*",
                    data: soap_req.toString(),
                    success: function(result) {
                        alert(soap_req);
                        alert(result);
                        $(result).find('result').each(function() {
                            alert($(this).text());
                        });
                    }
                });
            });
        });
        $(document).ready(function() {
            $('#btnGetRequestSoapData').click(function() {
                jQuery.ajax({
                    type: "GET", //"POST", 
                    url: "http://localhost:18083/getsoapdata",
                    contentType: "application/soap",
                    success: function(result) {
                        soap_req = result;
                        key = 'this is key';
                        soap_req = soap_req.replace('<key></key>', '<key>' + key + '</key>');
                        val = 'this is value';
                        soap_req = soap_req.replace('<value></value>', '<value>' + val + '</value>');
                        $('#btn').click();
                    }
                });
            });
        });
        var tbl;
        $(document).ready(function() {
            $('#btnGetTable').click(function () {
                $(document.getElementById('config').rows).each(function () {
                    input = $(this).append('<td><input type="button" value="modify" /></td>').find('input');
                    input.click(function () {
                        $('#btnGetRequestSoapData').click();
                    });
                    $(this).mouseover(function (event) {
                                e = $(this).css('background-color', 'Aqua');
                                e = event.toString();
                            })
                        .mouseout(function (event) {
                                e = event.toString();
                                $(this).css('background-color', 'transparent');
                            });
                });
            });
        });
    </script>

    <style type="text/css">
        .attrname
        {
            display: block;
            width: 120px;
        }
        .mo
        {
            background-color: Gray;
        }
    </style>
</head>
<body>
    <div id="container">
        <div id="header">
            <h2>WinCE Web Service ConfigFile Management</h2>
        </div>
        <div id="main">
            <form>
            <input type="hidden" value="click me get soap data" name="web" id="btnGetRequestSoapData" />
            <input type="hidden" value="click me call web service" name="web" id="btn" />
            <div class="line"><% <table>
            <tr>
                <td>
                    <span id="" class="attrname">attrname</span>
                </td>
                <td>
                    <input type="text" value="" name="" id="" />
                </td>
            </tr></table>%>
            </div>
            <div>
                <input type="button" value="click me get table" name="web" id="btnGetTable" />
            </div>
            </form>
        </div>
        <div id="footer">
        <label>email: taylorsaltfish@gmail.com 提供技术支持。</label>
        </div>
    </div>
</body>
</html>
